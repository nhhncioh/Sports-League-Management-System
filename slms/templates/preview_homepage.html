{% extends "base.html" %}
{% block title %}Preview: {{ league_name }}{% endblock %}

{% macro get_block_wrapper_classes(block) %}
    {%- set padding_map = {'none': 'py-0', 'small': 'py-2', 'medium': 'py-4', 'large': 'py-5', 'xlarge': 'py-6'} -%}
    {%- set margin_top_map = {'none': 'mt-0', 'small': 'mt-2', 'medium': 'mt-4', 'large': 'mt-5', 'xlarge': 'mt-6'} -%}
    {%- set margin_bottom_map = {'none': 'mb-0', 'small': 'mb-2', 'medium': 'mb-4', 'large': 'mb-5', 'xlarge': 'mb-6'} -%}
    {%- set width_map = {'full': '', 'wide': 'container-lg', 'standard': 'container', 'narrow': 'container-md'} -%}

    {%- set settings = block.settings or {} -%}
    {{- padding_map.get(settings.blockPadding, 'py-4') }} {{ margin_top_map.get(settings.blockMarginTop, 'mt-4') }} {{ margin_bottom_map.get(settings.blockMarginBottom, 'mb-4') }} {{ width_map.get(settings.blockMaxWidth, '') }}
    {%- if settings.hideOnMobile %} d-none d-md-block{% endif %}
    {%- if settings.hideOnDesktop %} d-md-none{% endif %}
    {%- if settings.animationType %} block-animate animate-{{ settings.animationType }}{% endif %}
    {%- if settings.customClass %} {{ settings.customClass }}{% endif -%}
{% endmacro %}

{% macro get_block_wrapper_styles(block) %}
    {%- set settings = block.settings or {} -%}

    {# Background handling #}
    {% if settings.blockBackgroundType == 'gradient' %}
        background: linear-gradient({{ settings.gradientDirection or 'to right' }}, {{ settings.gradientColor1 or '#667eea' }}, {{ settings.gradientColor2 or '#764ba2' }});
    {% elif settings.blockBackgroundType == 'image' and settings.blockBackgroundImage %}
        background-image: url('{{ settings.blockBackgroundImage }}');
        background-size: {{ settings.bgImageSize or 'cover' }};
        background-position: {{ settings.bgImagePosition or 'center' }};
        background-repeat: no-repeat;
        {% if settings.bgImageParallax %}
        background-attachment: fixed;
        {% endif %}
    {% else %}
        background-color: {{ settings.blockBackgroundColor or '#ffffff' }};
    {% endif %}

    {# Border handling #}
    border-radius: {{ settings.blockBorderRadius or 0 }}px;
    {% if settings.blockBorderWidth and settings.blockBorderWidth|int > 0 %}
        border: {{ settings.blockBorderWidth }}px {{ settings.blockBorderStyle or 'solid' }} {{ settings.blockBorderColor or '#dee2e6' }};
    {% endif %}

    {# Shadow #}
    {% if settings.blockShadow %}box-shadow: 0 4px 12px rgba(0,0,0,0.1);{% endif %}
{% endmacro %}

{% macro render_nested_block(block) %}
    {% if block.type == 'standings' %}
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">League Standings</h5>
            </div>
            <div class="card-body p-0">
                {% if block.data %}
                <div class="table-responsive">
                    <table class="table table-sm mb-0">
                        <thead>
                            <tr>
                                <th>Pos</th>
                                <th>Team</th>
                                <th class="text-center">P</th>
                                <th class="text-center">Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for team in block.data[:block.settings.limit or 10] %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td class="text-truncate" style="max-width: 150px;">{{ team.name }}</td>
                                <td class="text-center">{{ team.played }}</td>
                                <td class="text-center"><strong>{{ team.points }}</strong></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <p class="text-center text-muted py-3">No standings available</p>
                {% endif %}
            </div>
        </div>
    {% elif block.type == 'matches' %}
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Upcoming Matches</h5>
            </div>
            <div class="card-body">
                {% if block.data %}
                    {% for match in block.data[:5] %}
                    <div class="mb-3 pb-3 {% if not loop.last %}border-bottom{% endif %}">
                        <div class="d-flex justify-content-between align-items-center small">
                            <strong class="text-truncate" style="max-width: 45%;">{{ match.home }}</strong>
                            <span class="badge bg-secondary mx-2">VS</span>
                            <strong class="text-truncate" style="max-width: 45%;">{{ match.away }}</strong>
                        </div>
                        <div class="text-center mt-1">
                            <small class="text-muted">{{ match.date }}</small>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                <p class="text-center text-muted">No matches scheduled</p>
                {% endif %}
            </div>
        </div>
    {% elif block.type == 'stats' %}
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">League Statistics</h5>
            </div>
            <div class="card-body text-center">
                {% if block.settings.showTeams %}
                <div class="mb-3">
                    <i class="ph ph-users display-5 text-primary"></i>
                    <h3 class="mb-0">{{ block.data.total_teams }}</h3>
                    <small class="text-muted">Teams</small>
                </div>
                {% endif %}
                {% if block.settings.showPlayers %}
                <div class="mb-3">
                    <i class="ph ph-user display-5 text-success"></i>
                    <h3 class="mb-0">{{ block.data.total_players }}</h3>
                    <small class="text-muted">Players</small>
                </div>
                {% endif %}
                {% if block.settings.showMatches %}
                <div class="mb-3">
                    <i class="ph ph-calendar display-5 text-danger"></i>
                    <h3 class="mb-0">{{ block.data.total_matches }}</h3>
                    <small class="text-muted">Matches</small>
                </div>
                {% endif %}
            </div>
        </div>
    {% elif block.type == 'text' %}
        <div class="card h-100">
            <div class="card-body">
                {% if block.settings.title %}
                <h5 class="card-title">{{ block.settings.title }}</h5>
                {% endif %}
                <div>{{ block.settings.content | safe }}</div>
            </div>
        </div>
    {% elif block.type == 'news' %}
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Latest News</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info mb-0">
                    <small><i class="ph ph-info me-2"></i>News articles will appear here once the articles system is added</small>
                </div>
            </div>
        </div>
    {% else %}
        <div class="card h-100">
            <div class="card-body">
                <p class="text-muted mb-0"><i class="ph ph-info me-2"></i>{{ block.type | title }} block</p>
            </div>
        </div>
    {% endif %}
{% endmacro %}

{% block content %}
<div class="preview-notice bg-warning text-dark p-3 text-center sticky-top" style="z-index: 1000;">
    <strong><i class="ph ph-eye me-2"></i>Preview Mode</strong> - This is how your homepage will look. Close this tab to return to editing.
</div>

{% for block in blocks %}
    {% if block.type == 'container' %}
        <!-- Container Block (Split Layout) -->
        {% set padding_map = {
            'none': 'py-0',
            'small': 'py-2',
            'medium': 'py-4',
            'large': 'py-5',
            'xlarge': 'py-6'
        } %}
        {% set gap_map = {
            'none': 'g-0',
            'small': 'g-2',
            'medium': 'g-4',
            'large': 'g-5',
            'xlarge': 'gx-5 gy-5'
        } %}
        {% set align_map = {
            'top': 'align-items-start',
            'center': 'align-items-center',
            'bottom': 'align-items-end',
            'stretch': 'align-items-stretch'
        } %}
        {% set settings = block.settings or {} %}
        {% set padding = padding_map.get(settings.padding, 'py-4') %}
        {% set gap = gap_map.get(settings.gap, 'g-4') %}
        {% set align = align_map.get(settings.verticalAlign, 'align-items-start') %}

        <div class="container {{ padding }}" style="background-color: {{ settings.backgroundColor or '#ffffff' }}; border-radius: {{ settings.borderRadius or 0 }}px; {% if settings.addShadow %}box-shadow: 0 4px 12px rgba(0,0,0,0.1);{% endif %}">
            <div class="row {{ gap }} {{ align }} {% if settings.reverseOnMobile %}flex-column-reverse flex-md-row{% endif %}">
                {% set layout_map = {
                    'split-50-50': [6, 6],
                    'split-33-67': [4, 8],
                    'split-67-33': [8, 4],
                    'split-25-75': [3, 9],
                    'split-75-25': [9, 3]
                } %}
                {% set cols = layout_map.get(block.layout, [6, 6]) %}

                <div class="col-md-{{ cols[0] }}">
                    {% if block.leftBlock %}
                        {% set nested = block.leftBlock %}
                        {{ render_nested_block(nested) }}
                    {% else %}
                        <div class="text-center text-muted py-5 border rounded">
                            <i class="ph ph-image display-4 mb-3"></i>
                            <p>Left column - No content</p>
                        </div>
                    {% endif %}
                </div>

                <div class="col-md-{{ cols[1] }}">
                    {% if block.rightBlock %}
                        {% set nested = block.rightBlock %}
                        {{ render_nested_block(nested) }}
                    {% else %}
                        <div class="text-center text-muted py-5 border rounded">
                            <i class="ph ph-image display-4 mb-3"></i>
                            <p>Right column - No content</p>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

    {% elif block.type == 'hero' %}
        <!-- Hero Block -->
        <div class="hero-section position-relative {{ get_block_wrapper_classes(block) }}" style="
            {{ get_block_wrapper_styles(block) }}
            height: {% if block.settings.height == 'small' %}300px{% elif block.settings.height == 'large' %}700px{% elif block.settings.height == 'fullscreen' %}100vh{% else %}500px{% endif %};
            {% if block.settings.backgroundUrl %}
            background-image: url('{{ block.settings.backgroundUrl }}');
            background-size: cover;
            background-position: center;
            {% endif %}
            color: {{ block.settings.textColor or '#ffffff' }};
        ">
            {% if block.settings.overlay %}
            <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,{{ (block.settings.overlayOpacity or 50) / 100 }});"></div>
            {% endif %}
            <div class="position-relative h-100 d-flex align-items-center justify-content-center text-center">
                <div class="container">
                    <h1 class="display-3 fw-bold mb-4">{{ block.settings.title }}</h1>
                    {% if block.settings.subtitle %}
                    <p class="lead mb-4">{{ block.settings.subtitle }}</p>
                    {% endif %}
                    {% if block.settings.ctaText %}
                    <a href="{{ block.settings.ctaUrl }}" class="btn btn-lg btn-light">{{ block.settings.ctaText }}</a>
                    {% endif %}
                </div>
            </div>
        </div>

    {% elif block.type == 'stats' %}
        <!-- Stats Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <div class="row g-4 text-center">
                    {% if block.settings.showTeams %}
                    <div class="col-md-4">
                        <div class="stat-item">
                            <i class="ph ph-users display-4 text-primary mb-3"></i>
                            <h2 class="display-4 fw-bold">{{ block.data.total_teams }}</h2>
                            <p class="text-muted">Teams</p>
                        </div>
                    </div>
                    {% endif %}
                    {% if block.settings.showPlayers %}
                    <div class="col-md-4">
                        <div class="stat-item">
                            <i class="ph ph-user display-4 text-success mb-3"></i>
                            <h2 class="display-4 fw-bold">{{ block.data.total_players }}</h2>
                            <p class="text-muted">Players</p>
                        </div>
                    </div>
                    {% endif %}
                    {% if block.settings.showMatches %}
                    <div class="col-md-4">
                        <div class="stat-item">
                            <i class="ph ph-calendar display-4 text-danger mb-3"></i>
                            <h2 class="display-4 fw-bold">{{ block.data.total_matches }}</h2>
                            <p class="text-muted">Matches</p>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

    {% elif block.type == 'gallery' %}
        <!-- Gallery Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">Gallery</h2>
                {% if block.data %}
                <div class="row g-4">
                    {% for item in block.data %}
                    <div class="col-md-{{ 12 // (block.settings.columns or 3) }}">
                        <div class="card h-100 shadow-sm">
                            <img src="{{ item.url }}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ item.title }}">
                            {% if block.settings.showTitles %}
                            <div class="card-body">
                                <h5 class="card-title">{{ item.title }}</h5>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <p class="text-center text-muted">No images available</p>
                {% endif %}
            </div>
        </div>

    {% elif block.type == 'video' %}
        <!-- Video Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <div class="ratio ratio-{{ block.settings.aspectRatio.replace(':', 'x') }}">
                    {% set video_url = block.data.url if block.data else block.settings.url %}
                    {% if video_url %}
                        {% if 'youtube.com' in video_url or 'youtu.be' in video_url %}
                            {% if 'watch?v=' in video_url %}
                                {% set video_id = video_url.split('watch?v=')[1].split('&')[0] %}
                            {% elif 'youtu.be/' in video_url %}
                                {% set video_id = video_url.split('youtu.be/')[1].split('?')[0] %}
                            {% else %}
                                {% set video_id = '' %}
                            {% endif %}
                            <iframe src="https://www.youtube.com/embed/{{ video_id }}{% if block.settings.autoplay %}?autoplay=1&mute=1{% endif %}" frameborder="0" allowfullscreen></iframe>
                        {% else %}
                            <video controls {% if block.settings.autoplay %}autoplay muted{% endif %}>
                                <source src="{{ video_url }}">
                            </video>
                        {% endif %}
                    {% else %}
                        <div class="d-flex align-items-center justify-content-center bg-light">
                            <p class="text-muted">No video configured</p>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

    {% elif block.type == 'matches' %}
        <!-- Matches Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">Upcoming Matches</h2>
                {% if block.data %}
                <div class="{% if not block.settings.compact %}row g-4{% else %}list-group{% endif %}">
                    {% for match in block.data %}
                        {% if block.settings.compact %}
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <strong>{{ match.home }}</strong> vs <strong>{{ match.away }}</strong>
                            </div>
                            <small class="text-muted">{{ match.date }}</small>
                        </div>
                        {% else %}
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <h5>{{ match.home }}</h5>
                                        <span class="badge bg-secondary">VS</span>
                                        <h5>{{ match.away }}</h5>
                                    </div>
                                    <div class="text-center mt-3">
                                        <small class="text-muted">
                                            <i class="ph ph-calendar me-1"></i>{{ match.date }}
                                            {% if match.time %} - {{ match.time }}{% endif %}
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>
                {% else %}
                <p class="text-center text-muted">No matches scheduled</p>
                {% endif %}
            </div>
        </div>

    {% elif block.type == 'standings' %}
        <!-- Standings Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">League Standings</h2>
                {% if block.data %}
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Pos</th>
                                <th>Team</th>
                                <th class="text-center">P</th>
                                <th class="text-center">Pts</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for team in block.data %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td>
                                    {% if block.settings.showLogos and team.logo %}
                                    <img src="{{ team.logo }}" alt="{{ team.name }}" style="width: 30px; height: 30px; object-fit: contain;" class="me-2">
                                    {% endif %}
                                    {{ team.name }}
                                </td>
                                <td class="text-center">{{ team.played }}</td>
                                <td class="text-center"><strong>{{ team.points }}</strong></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <p class="text-center text-muted">No standings available</p>
                {% endif %}
            </div>
        </div>

    {% elif block.type == 'text' %}
        <!-- Text Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <div class="text-{{ block.settings.alignment or 'left' }}">
                    {% if block.settings.title %}
                    <h2 class="mb-4">{{ block.settings.title }}</h2>
                    {% endif %}
                    <div>{{ block.settings.content | safe }}</div>
                </div>
            </div>
        </div>

    {% elif block.type == 'cta' %}
        <!-- Call to Action Block -->
        <div class="text-center {{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }} {% if not block.settings.blockBackgroundType %}background-color: {{ block.settings.backgroundColor or '#0d6efd' }}; {% endif %}color: {{ block.settings.textColor or '#ffffff' }};">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="display-5 fw-bold mb-3">{{ block.settings.title }}</h2>
                {% if block.settings.subtitle %}
                <p class="lead mb-4">{{ block.settings.subtitle }}</p>
                {% endif %}
                {% if block.settings.buttonText %}
                <a href="{{ block.settings.buttonUrl }}" class="btn btn-lg {% if block.settings.buttonStyle == 'outline' %}btn-outline-light{% else %}btn-light{% endif %}">
                    {{ block.settings.buttonText }}
                </a>
                {% endif %}
            </div>
        </div>

    {% elif block.type == 'spacer' %}
        <!-- Spacer Block -->
        <div style="height: {{ block.settings.height or 60 }}px;"></div>

    {% elif block.type == 'divider' %}
        <!-- Divider Block -->
        <div class="container">
            <hr style="
                border-style: {{ block.settings.style or 'solid' }};
                width: {{ block.settings.width or 100 }}%;
                border-color: {{ block.settings.color or '#dee2e6' }};
                border-width: {{ block.settings.thickness or 1 }}px;
                margin: 2rem auto;
            ">
        </div>

    {% elif block.type == 'countdown' %}
        <!-- Countdown Block -->
        <div class="text-center {{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }} {% if not block.settings.blockBackgroundType %}background-color: {{ block.settings.backgroundColor or '#0d6efd' }}; {% endif %}color: {{ block.settings.textColor or '#ffffff' }};">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="mb-4">{{ block.settings.title }}</h2>
                <div class="d-flex justify-content-center gap-4">
                    {% if block.settings.showDays %}
                    <div>
                        <div class="display-4 fw-bold">00</div>
                        <small>Days</small>
                    </div>
                    {% endif %}
                    {% if block.settings.showHours %}
                    <div>
                        <div class="display-4 fw-bold">00</div>
                        <small>Hours</small>
                    </div>
                    {% endif %}
                    {% if block.settings.showMinutes %}
                    <div>
                        <div class="display-4 fw-bold">00</div>
                        <small>Minutes</small>
                    </div>
                    {% endif %}
                </div>
                <p class="mt-3 text-muted">Countdown preview (set target date in settings)</p>
            </div>
        </div>

    {% elif block.type == 'features' %}
        <!-- Features Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <div class="row g-4">
                    {% for item in block.settings.items %}
                    <div class="col-md-{{ 12 // (block.settings.columns or 3) }}">
                        <div class="text-center">
                            <i class="ph {{ item.icon }} display-4 text-primary mb-3"></i>
                            <h4>{{ item.title }}</h4>
                            <p class="text-muted">{{ item.description }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

    {% elif block.type == 'testimonials' %}
        <!-- Testimonials Block -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">What People Say</h2>
                <div class="row g-4">
                    {% for item in block.settings.items %}
                    <div class="col-md-{{ 12 if block.settings.layout == 'slider' else 6 }}">
                        <div class="card">
                            <div class="card-body">
                                <i class="ph ph-quotes display-4 text-muted mb-3"></i>
                                <p class="mb-3">"{{ item.quote }}"</p>
                                <footer class="blockquote-footer">
                                    {{ item.author }}{% if item.team %}, {{ item.team }}{% endif %}
                                </footer>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

    {% elif block.type == 'news' %}
        <!-- News Block (placeholder) -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">Latest News</h2>
                <div class="alert alert-info text-center">
                    <i class="ph ph-info me-2"></i>
                    News articles will appear here once the articles system is added
                </div>
            </div>
        </div>

    {% elif block.type == 'sponsors' %}
        <!-- Sponsors Block (placeholder) -->
        <div class="{{ get_block_wrapper_classes(block) }}" style="{{ get_block_wrapper_styles(block) }}">
            <div class="{% if block.settings.blockMaxWidth == 'full' %}container{% endif %}">
                <h2 class="text-center mb-5">Our Sponsors</h2>
                <div class="alert alert-info text-center">
                    <i class="ph ph-info me-2"></i>
                    Sponsor logos will appear here once configured
                </div>
            </div>
        </div>

    {% endif %}
{% endfor %}

{% if not blocks %}
<div class="container py-5 text-center">
    <i class="ph ph-layout display-1 text-muted mb-3"></i>
    <h3 class="text-muted">No blocks added yet</h3>
    <p class="text-muted">Add blocks in the builder to see your homepage preview</p>
</div>
{% endif %}

<style>
/* Animation styles */
.block-animate {
    opacity: 0;
    transition: opacity 0.6s ease, transform 0.6s ease;
}

.block-animate.animate-in {
    opacity: 1;
}

/* Fade animation */
.animate-fade.animate-in {
    opacity: 1;
}

/* Slide up animation */
.animate-slideUp {
    transform: translateY(50px);
}
.animate-slideUp.animate-in {
    transform: translateY(0);
}

/* Slide from left animation */
.animate-slideLeft {
    transform: translateX(-50px);
}
.animate-slideLeft.animate-in {
    transform: translateX(0);
}

/* Slide from right animation */
.animate-slideRight {
    transform: translateX(50px);
}
.animate-slideRight.animate-in {
    transform: translateX(0);
}

/* Zoom animation */
.animate-zoom {
    transform: scale(0.9);
}
.animate-zoom.animate-in {
    transform: scale(1);
}
</style>

<script>
// Intersection Observer for scroll animations
document.addEventListener('DOMContentLoaded', function() {
    const animatedBlocks = document.querySelectorAll('.block-animate');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });

    animatedBlocks.forEach(block => observer.observe(block));
});
</script>

{% endblock %}
